{"version":3,"sources":["webpack:///static/js/app.44034e597ceb0210cb0c.js","webpack:///./src/main.js","webpack:///App.vue","webpack:///vue-list.vue","webpack:///./src/App.vue","webpack:///./src/components/vue-list.vue","webpack:///./src/App.vue?c26d","webpack:///./src/components/vue-list.vue?65b6"],"names":["webpackJsonp","module","exports","__webpack_require__","_interopRequireDefault","obj","__esModule","default","_vue","_vue2","_App","_App2","el","template","components","App","Object","defineProperty","value","_vueList","_vueList2","window","COUNT","name","data","list","created","i","this","push","title","methods","setData","vueList","props","type","Array","required","twoWays","height","Number","canScroll","Boolean","dispatchData","Function","lastScrollTop","distance","lineTopHeight","lineBottomHeight","canLoadmore","previewList","displayCount","mounted","initData","handleScroll","_rowsInWindow","Math","ceil","$el","offsetHeight","_above","_below","_max","_this","_scrollTop","scrollTop","_height","querySelectorAll","_contentHeight","floor","abs","to","length","loadmore","from","_from","parseInt","_to","resetPreviewList","$nextTick","_this2","setTimeout","__vue_exports__","__vue_options__","__vue_template__","options","render","staticRenderFns","_vm","_h","$createElement","_c","_self","attrs","id","_m","_v","staticClass","_s","href","on","scroll","style","_l","item"],"mappings":"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","file":"static/js/app.44034e597ceb0210cb0c.js","sourcesContent":["webpackJsonp([1,0],[\n/* 0 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar _vue = __webpack_require__(3);\n\t\n\tvar _vue2 = _interopRequireDefault(_vue);\n\t\n\tvar _App = __webpack_require__(6);\n\t\n\tvar _App2 = _interopRequireDefault(_App);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tnew _vue2.default({\n\t  el: '#app',\n\t  template: '<App/>',\n\t  components: { App: _App2.default }\n\t});\n\n/***/ },\n/* 1 */\n/***/ function(module, exports) {\n\n\t// removed by extract-text-webpack-plugin\n\n/***/ },\n/* 2 */\n/***/ function(module, exports) {\n\n\t// removed by extract-text-webpack-plugin\n\n/***/ },\n/* 3 */,\n/* 4 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _vueList = __webpack_require__(7);\n\t\n\tvar _vueList2 = _interopRequireDefault(_vueList);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\twindow.COUNT = 1;\n\t\n\texports.default = {\n\t  name: 'app',\n\t  data: function data() {\n\t    return {\n\t      list: [],\n\t      data: {}\n\t    };\n\t  },\n\t  created: function created() {\n\t    for (var i = 0; i < 200; i++) {\n\t      this.list.push({\n\t        title: 'item ' + COUNT++\n\t      });\n\t    }\n\t  },\n\t\n\t  methods: {\n\t    setData: function setData(data) {\n\t      this.data = data;\n\t    }\n\t  },\n\t  components: {\n\t    vueList: _vueList2.default\n\t  }\n\t};\n\n/***/ },\n/* 5 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\texports.default = {\n\t  name: 'vue-list',\n\t  props: {\n\t    list: {\n\t      type: Array,\n\t      required: true,\n\t      default: [],\n\t      twoWays: true\n\t    },\n\t    height: {\n\t      type: Number,\n\t      default: 44\n\t    },\n\t    canScroll: {\n\t      type: Boolean,\n\t      default: true\n\t    },\n\t    dispatchData: {\n\t      type: Function\n\t    }\n\t  },\n\t  data: function data() {\n\t    return {\n\t      lastScrollTop: null,\n\t      distance: 44,\n\t      lineTopHeight: 0,\n\t      lineBottomHeight: 0,\n\t      canLoadmore: true,\n\t      previewList: [],\n\t      displayCount: 0\n\t    };\n\t  },\n\t  mounted: function mounted() {\n\t    this.initData();\n\t    this.handleScroll();\n\t  },\n\t\n\t  methods: {\n\t    initData: function initData() {\n\t      this._rowsInWindow = Math.ceil(this.$el.offsetHeight / this.height), this._above = this._rowsInWindow * 2, this._below = this._rowsInWindow, this._max = this._rowsInWindow * this.height;\n\t    },\n\t    handleScroll: function handleScroll() {\n\t      var _this = this;\n\t\n\t      var _scrollTop = this.$el.scrollTop,\n\t          _height = this.$el.querySelectorAll('ul')[0].offsetHeight,\n\t          _contentHeight = this.$el.offsetHeight;\n\t\n\t      if (_scrollTop / this.height - Math.floor(_scrollTop / this.height) > 0.5) {\n\t        this.displayCount = Math.ceil(_scrollTop / this.height);\n\t      } else {\n\t        this.displayCount = Math.floor(_scrollTop / this.height);\n\t      }\n\t\n\t      if (this.lastScrollTop === null || Math.abs(_scrollTop - this.lastScrollTop) > this._max) {\n\t        this.lastScrollTop = _scrollTop;\n\t      } else {\n\t        if (this.to === this.list.length && _height - _scrollTop - _contentHeight < this.distance) {\n\t          this.canScroll && this.loadmore(this.from, this.to);\n\t        }\n\t        return;\n\t      }\n\t\n\t      var _from = parseInt(_scrollTop / this.height) - this._above;\n\t      if (_from < 0) {\n\t        _from = 0;\n\t      }\n\t      var _to = _from + this._above + this._below + this._rowsInWindow;\n\t      if (_to > this.list.length) {\n\t        _to = this.list.length;\n\t      }\n\t      this.from = _from;\n\t      this.to = _to;\n\t\n\t      this.lineTopHeight = _from * this.height;\n\t      this.lineBottomHeight = (this.list.length - _to) * this.height;\n\t\n\t      if (typeof this.dispatchData === 'function') {\n\t        this.dispatchData(this);\n\t      }\n\t\n\t      this.resetPreviewList(_from, _to);\n\t\n\t      this.$nextTick(function () {\n\t        var _scrollTop = _this.$el.scrollTop,\n\t            _height = _this.$el.querySelectorAll('ul')[0].offsetHeight,\n\t            _contentHeight = _this.$el.offsetHeight;\n\t\n\t        if (_to === _this.list.length && _height - _scrollTop - _contentHeight < 0) {\n\t          _this.canScroll && _this.loadmore(_this.from, _this.to);\n\t        }\n\t      });\n\t    },\n\t    loadmore: function loadmore(from, to) {\n\t      var _this2 = this;\n\t\n\t      if (!this.canLoadmore) return;\n\t      this.canLoadmore = false;\n\t\n\t      setTimeout(function () {\n\t        for (var i = 0; i < 200; i++) {\n\t          _this2.list.push({\n\t            title: 'item ' + COUNT++\n\t          });\n\t        }\n\t        var _from = from,\n\t            _to = to + _this2._below;\n\t        _this2.resetPreviewList(_from, _to);\n\t        _this2.lineBottomHeight = (_this2.list.length - _to) * _this2.height;\n\t        _this2.handleScroll();\n\t\n\t        _this2.canLoadmore = true;\n\t      }, 2000);\n\t    },\n\t    resetPreviewList: function resetPreviewList(from, to) {\n\t      this.previewList = [];\n\t      for (; from < to; from++) {\n\t        this.previewList.push(this.list[from]);\n\t      }\n\t    }\n\t  },\n\t  components: {}\n\t};\n\n/***/ },\n/* 6 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar __vue_exports__, __vue_options__\n\tvar __vue_styles__ = {}\n\t\n\t/* styles */\n\t__webpack_require__(1)\n\t\n\t/* script */\n\t__vue_exports__ = __webpack_require__(4)\n\t\n\t/* template */\n\tvar __vue_template__ = __webpack_require__(8)\n\t__vue_options__ = __vue_exports__ = __vue_exports__ || {}\n\tif (\n\t  typeof __vue_exports__.default === \"object\" ||\n\t  typeof __vue_exports__.default === \"function\"\n\t) {\n\t__vue_options__ = __vue_exports__ = __vue_exports__.default\n\t}\n\tif (typeof __vue_options__ === \"function\") {\n\t  __vue_options__ = __vue_options__.options\n\t}\n\t\n\t__vue_options__.render = __vue_template__.render\n\t__vue_options__.staticRenderFns = __vue_template__.staticRenderFns\n\t\n\tmodule.exports = __vue_exports__\n\n\n/***/ },\n/* 7 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar __vue_exports__, __vue_options__\n\tvar __vue_styles__ = {}\n\t\n\t/* styles */\n\t__webpack_require__(2)\n\t\n\t/* script */\n\t__vue_exports__ = __webpack_require__(5)\n\t\n\t/* template */\n\tvar __vue_template__ = __webpack_require__(9)\n\t__vue_options__ = __vue_exports__ = __vue_exports__ || {}\n\tif (\n\t  typeof __vue_exports__.default === \"object\" ||\n\t  typeof __vue_exports__.default === \"function\"\n\t) {\n\t__vue_options__ = __vue_exports__ = __vue_exports__.default\n\t}\n\tif (typeof __vue_options__ === \"function\") {\n\t  __vue_options__ = __vue_options__.options\n\t}\n\t\n\t__vue_options__.render = __vue_template__.render\n\t__vue_options__.staticRenderFns = __vue_template__.staticRenderFns\n\t\n\tmodule.exports = __vue_exports__\n\n\n/***/ },\n/* 8 */\n/***/ function(module, exports) {\n\n\tmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n\t  return _c('div', {\n\t    attrs: {\n\t      \"id\": \"app\"\n\t    }\n\t  }, [_vm._m(0), _vm._v(\" \"), _c('div', {\n\t    staticClass: \"content\"\n\t  }, [_c('div', {\n\t    staticClass: \"preview\"\n\t  }, [_c('div', {\n\t    staticClass: \"preview-content\"\n\t  }, [_c('vue-list', {\n\t    attrs: {\n\t      \"list\": _vm.list,\n\t      \"dispatchData\": _vm.setData\n\t    }\n\t  })], 1)]), _vm._v(\" \"), _c('div', {\n\t    staticClass: \"setting\"\n\t  }, [_c('h3', [_vm._v(\"Scroll info\")]), _vm._v(\" \"), _c('p', [_vm._v(\"Total items: \"), _c('span', [_vm._v(_vm._s(_vm.list.length))])]), _vm._v(\" \"), _c('p', [_vm._v(\"Item height: \"), _c('span', [_vm._v(_vm._s(_vm.data.height) + \"px\")])]), _vm._v(\" \"), _c('p', [_vm._v(\"Above items: \"), _c('span', [_vm._v(_vm._s(_vm.data._above))])]), _vm._v(\" \"), _c('p', [_vm._v(\"Below items: \"), _c('span', [_vm._v(_vm._s(_vm.data._below))])]), _vm._v(\" \"), _c('p', [_vm._v(\"Rows in window: \"), _c('span', [_vm._v(_vm._s(_vm.data.displayCount + 1) + \"-\" + _vm._s((_vm.data.displayCount + _vm.data._rowsInWindow) > _vm.list.length ? _vm.list.length : (_vm.data.displayCount + _vm.data._rowsInWindow)))])]), _vm._v(\" \"), _c('p', [_c('span', [_vm._v(_vm._s(_vm.data._rowsInWindow * 4))]), _vm._v(\" items from \"), _c('span', [_vm._v(_vm._s(_vm.data.from))]), _vm._v(\" to \"), _c('span', [_vm._v(_vm._s(_vm.data.to))])]), _vm._v(\" \"), _c('p', [_vm._v(\"Top height: \"), _c('span', [_vm._v(_vm._s(_vm.data.lineTopHeight) + \"px\")])]), _vm._v(\" \"), _c('p', [_vm._v(\"Bottom Height: \"), _c('span', [_vm._v(_vm._s(_vm.data.lineBottomHeight) + \"px\")])]), _vm._v(\" \"), _c('p', [_vm._v(\"Will load more items: \"), _c('span', [_vm._v(_vm._s(!_vm.data.canLoadmore))])]), _vm._v(\" \"), _c('br'), _vm._v(\" \"), _vm._m(1)])])])\n\t},staticRenderFns: [function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n\t  return _c('header', [_c('h1', {\n\t    staticClass: \"title\"\n\t  }, [_vm._v(\"vue-list\")]), _vm._v(\" \"), _c('p', [_vm._v(\"A solution to build an infinite load more list component.\")]), _vm._v(\" \"), _c('p', [_c('a', {\n\t    staticClass: \"button\",\n\t    attrs: {\n\t      \"href\": \"https://github.com/Alex-fun/vue-list\"\n\t    }\n\t  }, [_vm._v(\"Code on Github\")]), _vm._v(\" / \"), _c('a', {\n\t    staticClass: \"button\",\n\t    attrs: {\n\t      \"href\": \"https://github.com/Alex-fun\"\n\t    }\n\t  }, [_vm._v(\"My profile\")])])])\n\t},function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n\t  return _c('p', [_c('span', [_vm._v(\"You can open the developer tools and observe the changes in the elements.\")])])\n\t}]}\n\n/***/ },\n/* 9 */\n/***/ function(module, exports) {\n\n\tmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n\t  return _c('div', {\n\t    staticClass: \"vue-list\",\n\t    on: {\n\t      \"scroll\": _vm.handleScroll\n\t    }\n\t  }, [_c('ul', [_c('li', {\n\t    staticClass: \"line-top\",\n\t    style: ({\n\t      height: _vm.lineTopHeight + 'px'\n\t    })\n\t  }), _vm._v(\" \"), _vm._l((_vm.previewList), function(item) {\n\t    return _c('li', [_vm._v(_vm._s(item.title))])\n\t  }), _vm._v(\" \"), _c('li', {\n\t    staticClass: \"line-bottom\",\n\t    style: ({\n\t      height: _vm.lineBottomHeight + 'px'\n\t    })\n\t  })], 2), _vm._v(\" \"), _c('div', {\n\t    staticClass: \"load-more-gif\"\n\t  }, [_vm._v(\"loading...\")])])\n\t},staticRenderFns: []}\n\n/***/ }\n]);\n\n\n// WEBPACK FOOTER //\n// static/js/app.44034e597ceb0210cb0c.js","import Vue from 'vue'\nimport App from './App'\n\n/* eslint-disable no-new */\nnew Vue({\n  el: '#app',\n  template: '<App/>',\n  components: { App }\n})\n\n\n\n// WEBPACK FOOTER //\n// ./src/main.js","<template>\n  <div id=\"app\">\n    <header>\n      <h1 class=\"title\">vue-list</h1>\n      <p>A solution to build an infinite load more list component.</p>\n      <p><a class=\"button\" href=\"https://github.com/Alex-fun/vue-list\">Code on Github</a> / <a class=\"button\" href=\"https://github.com/Alex-fun\">My profile</a></p>\n    </header>\n    <div class=\"content\">\n      <div class=\"preview\">\n        <div class=\"preview-content\">\n          <vue-list :list.sync='list' :dispatchData=\"setData\"></vue-list>\n        </div>\n      </div>\n      <div class=\"setting\">\n        <h3>Scroll info</h3>\n        <p>Total items: <span>{{list.length}}</span></p>\n        <p>Item height: <span>{{data.height}}px</span></p>\n        <p>Above items: <span>{{data._above}}</span></p>\n        <p>Below items: <span>{{data._below}}</span></p>\n        <p>Rows in window: <span>{{data.displayCount + 1}}-{{(data.displayCount + data._rowsInWindow) > list.length ? list.length: (data.displayCount + data._rowsInWindow)}}</span></p>\n        <p><span>{{data._rowsInWindow * 4}}</span> items from <span>{{data.from}}</span> to <span>{{data.to}}</span></p>\n        <p>Top height: <span>{{data.lineTopHeight}}px</span></p>\n        <p>Bottom Height: <span>{{data.lineBottomHeight}}px</span></p>\n        <p>Will load more items: <span>{{!data.canLoadmore}}</span></p>\n        <br>\n        <p>\n          <span>You can open the developer tools and observe the changes in the elements.</span>\n        </p>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport vueList from 'components/vue-list';\n\nwindow.COUNT = 1;\n\nexport default {\n  name: 'app',\n  data() {\n    return {\n      list: [],\n      data: {}\n    }\n  },\n  created() {\n    for(var i = 0; i < 200; i++) {\n      this.list.push({\n        title: 'item ' + COUNT++\n      });\n    }\n  },\n  methods: {\n    setData(data) {\n      this.data = data;\n    }\n  },\n  components: {\n    vueList\n  }\n}\n</script>\n\n<style lang=\"less\">\nhtml,body{\n  margin: 0;\n  padding: 0;\n}\n#app {\n  font-family: 'Avenir', Helvetica, Arial, sans-serif;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  text-align: center;\n  color: #2c3e50;\n  header{\n    width: 100%;\n    padding: 30px 0;\n    margin-bottom: 20px;\n    .title{\n      font-size: 46px;\n      line-height: 20px;\n      color: #48B884;\n    }\n    p{\n      color: #7F8C8D;\n      .button{\n        color: #48B884;\n      }\n    }\n  }\n  .content{\n    display: flex;\n    width: 800px;\n    height: 650px;\n    margin: 0 auto;\n    &>div{\n      flex: 1;\n      height: 100%;\n    }\n    .preview{\n      background: url(\"~assets/iphone.png\") center center no-repeat;\n      background-size: 324px 642px;\n      position: relative;\n      .preview-content{\n        width: 256px;\n        height: 464px;\n        position: absolute;\n        left: 72px;\n        top: 91px;\n        background: #fff;\n        overflow-y: scroll;\n      }\n    }\n    .setting{\n      span{\n        color: #48B884;\n      }\n    }\n  }\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// App.vue?8b27efba","<template lang=\"html\">\n  <div class=\"vue-list\" @scroll=\"handleScroll\">\n    <ul>\n      <li class=\"line-top\" :style=\"{height: lineTopHeight +'px'}\"></li>\n      <li v-for=\"item in previewList\">{{item.title}}</li>\n      <li class=\"line-bottom\" :style=\"{height: lineBottomHeight +'px'}\"></li>\n    </ul>\n    <div class=\"load-more-gif\">loading...</div>\n  </div>\n</template>\n\n<script>\n\nexport default {\n  name: 'vue-list',\n  props: {\n    list: {\n      type: Array,\n      required: true,\n      default: [],\n      twoWays: true\n    },\n    height: {\n      type: Number,\n      default: 44\n    },\n    canScroll: {\n      type: Boolean,\n      default: true\n    },\n    dispatchData: {\n      type: Function\n    }\n  },\n  data() {\n    return {\n      lastScrollTop: null,\n      distance: 44,\n      lineTopHeight: 0,\n      lineBottomHeight: 0,\n      canLoadmore: true,\n      previewList: [],\n      displayCount: 0\n    }\n  },\n  mounted () {\n    this.initData();\n    this.handleScroll();\n  },\n  methods: {\n    initData() {\n      // init all data\n      this._rowsInWindow = Math.ceil(this.$el.offsetHeight / this.height),\n      this._above = this._rowsInWindow * 2,\n      this._below = this._rowsInWindow,\n      this._max = this._rowsInWindow * this.height;\n    },\n    handleScroll() {\n      let _scrollTop = this.$el.scrollTop,\n          _height = this.$el.querySelectorAll('ul')[0].offsetHeight,\n          _contentHeight = this.$el.offsetHeight;\n\n      // Counts the number of rows on the current screen\n      if (_scrollTop / this.height - Math.floor(_scrollTop / this.height) > 0.5) {\n        this.displayCount = Math.ceil(_scrollTop / this.height);\n      } else {\n        this.displayCount = Math.floor(_scrollTop / this.height);\n      }\n\n      // if the maximum height is exceeded, reset the previewList\n      if (this.lastScrollTop === null || Math.abs(_scrollTop - this.lastScrollTop) > this._max) {\n          this.lastScrollTop = _scrollTop;\n      } else {\n          if (this.to === this.list.length && _height - _scrollTop - _contentHeight < this.distance) {\n            this.canScroll && this.loadmore(this.from, this.to);\n          }\n          return;\n      }\n\n      // get from and to count\n      let _from = parseInt(_scrollTop / this.height) - this._above;\n      if (_from < 0) {\n          _from = 0;\n      }\n      let _to = _from + this._above + this._below + this._rowsInWindow;\n      if (_to > this.list.length) {\n          _to = this.list.length;\n      }\n      this.from = _from;\n      this.to = _to;\n\n      // set top height and bottom height\n      this.lineTopHeight = _from * this.height;\n      this.lineBottomHeight = (this.list.length - _to) * this.height;\n\n      // dispatch data\n      if (typeof this.dispatchData === 'function') {\n        this.dispatchData(this)\n      }\n\n      this.resetPreviewList(_from, _to);\n\n      this.$nextTick(() => {\n        let _scrollTop = this.$el.scrollTop,\n            _height = this.$el.querySelectorAll('ul')[0].offsetHeight,\n            _contentHeight = this.$el.offsetHeight;\n\n        if (_to === this.list.length && _height - _scrollTop - _contentHeight < 0) {\n            this.canScroll && this.loadmore(this.from, this.to);\n        }\n      });\n    },\n    loadmore(from, to) {\n      if (!this.canLoadmore) return;\n      this.canLoadmore = false;\n      // fetch mock\n      setTimeout(() => {\n        for(var i = 0; i < 200; i++) {\n          this.list.push({\n            title: 'item ' + COUNT++\n          });\n        }\n        let _from = from, _to = to + this._below;\n        this.resetPreviewList(_from, _to);\n        this.lineBottomHeight = (this.list.length - _to) * this.height;\n        this.handleScroll();\n\n        this.canLoadmore = true;\n      }, 2000)\n    },\n    resetPreviewList(from, to) {\n      // reset previewList\n      this.previewList = [];\n      for (; from < to; from++) {\n          this.previewList.push(this.list[from])\n      }\n    }\n  },\n  components: {}\n}\n</script>\n\n<style lang=\"less\">\n.vue-list{\n  width: 100%;\n  height: 100%;\n  overflow-y: auto;\n  &::scroll-bar{\n    width: 0;\n  }\n  ul {\n    margin: 0;\n    padding: 0;\n    li{\n      text-decoration: none;\n      height: 44px;\n      font-size: 14px;\n      line-height: 3;\n      text-align: left;\n      padding-left: 15px;\n      border-bottom: 1px solid #ddd;\n      box-sizing: border-box;\n      background: #fff;\n      &.line-top, &.line-bottom{\n        border-bottom: 0;\n      }\n    }\n  }\n  .load-more-gif{\n    width: 100%;\n    height: 44px;\n    text-align: center;\n    line-height: 44px;\n    background: #fff;\n    border-top: none;\n    color: #48B884;\n  }\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// vue-list.vue?2126ae57","var __vue_exports__, __vue_options__\nvar __vue_styles__ = {}\n\n/* styles */\nrequire(\"!!../node_modules/.1.0.1@extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"extract\\\":true,\\\"remove\\\":true}!vue-style-loader!css-loader?sourceMap!vue-loader/lib/style-rewriter?id=data-v-24ec25f5!less-loader?sourceMap!vue-loader/lib/selector?type=styles&index=0!./App.vue\")\n\n/* script */\n__vue_exports__ = require(\"!!babel-loader!vue-loader/lib/selector?type=script&index=0!./App.vue\")\n\n/* template */\nvar __vue_template__ = require(\"!!vue-loader/lib/template-compiler?id=data-v-24ec25f5!vue-loader/lib/selector?type=template&index=0!./App.vue\")\n__vue_options__ = __vue_exports__ = __vue_exports__ || {}\nif (\n  typeof __vue_exports__.default === \"object\" ||\n  typeof __vue_exports__.default === \"function\"\n) {\n__vue_options__ = __vue_exports__ = __vue_exports__.default\n}\nif (typeof __vue_options__ === \"function\") {\n  __vue_options__ = __vue_options__.options\n}\n\n__vue_options__.render = __vue_template__.render\n__vue_options__.staticRenderFns = __vue_template__.staticRenderFns\n\nmodule.exports = __vue_exports__\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/App.vue\n// module id = 6\n// module chunks = 1","var __vue_exports__, __vue_options__\nvar __vue_styles__ = {}\n\n/* styles */\nrequire(\"!!../../node_modules/.1.0.1@extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"extract\\\":true,\\\"remove\\\":true}!vue-style-loader!css-loader?sourceMap!vue-loader/lib/style-rewriter?id=data-v-9d7a0e5c!less-loader?sourceMap!vue-loader/lib/selector?type=styles&index=0!./vue-list.vue\")\n\n/* script */\n__vue_exports__ = require(\"!!babel-loader!vue-loader/lib/selector?type=script&index=0!./vue-list.vue\")\n\n/* template */\nvar __vue_template__ = require(\"!!vue-loader/lib/template-compiler?id=data-v-9d7a0e5c!vue-loader/lib/selector?type=template&index=0!./vue-list.vue\")\n__vue_options__ = __vue_exports__ = __vue_exports__ || {}\nif (\n  typeof __vue_exports__.default === \"object\" ||\n  typeof __vue_exports__.default === \"function\"\n) {\n__vue_options__ = __vue_exports__ = __vue_exports__.default\n}\nif (typeof __vue_options__ === \"function\") {\n  __vue_options__ = __vue_options__.options\n}\n\n__vue_options__.render = __vue_template__.render\n__vue_options__.staticRenderFns = __vue_template__.staticRenderFns\n\nmodule.exports = __vue_exports__\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/vue-list.vue\n// module id = 7\n// module chunks = 1","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    attrs: {\n      \"id\": \"app\"\n    }\n  }, [_vm._m(0), _vm._v(\" \"), _c('div', {\n    staticClass: \"content\"\n  }, [_c('div', {\n    staticClass: \"preview\"\n  }, [_c('div', {\n    staticClass: \"preview-content\"\n  }, [_c('vue-list', {\n    attrs: {\n      \"list\": _vm.list,\n      \"dispatchData\": _vm.setData\n    }\n  })], 1)]), _vm._v(\" \"), _c('div', {\n    staticClass: \"setting\"\n  }, [_c('h3', [_vm._v(\"Scroll info\")]), _vm._v(\" \"), _c('p', [_vm._v(\"Total items: \"), _c('span', [_vm._v(_vm._s(_vm.list.length))])]), _vm._v(\" \"), _c('p', [_vm._v(\"Item height: \"), _c('span', [_vm._v(_vm._s(_vm.data.height) + \"px\")])]), _vm._v(\" \"), _c('p', [_vm._v(\"Above items: \"), _c('span', [_vm._v(_vm._s(_vm.data._above))])]), _vm._v(\" \"), _c('p', [_vm._v(\"Below items: \"), _c('span', [_vm._v(_vm._s(_vm.data._below))])]), _vm._v(\" \"), _c('p', [_vm._v(\"Rows in window: \"), _c('span', [_vm._v(_vm._s(_vm.data.displayCount + 1) + \"-\" + _vm._s((_vm.data.displayCount + _vm.data._rowsInWindow) > _vm.list.length ? _vm.list.length : (_vm.data.displayCount + _vm.data._rowsInWindow)))])]), _vm._v(\" \"), _c('p', [_c('span', [_vm._v(_vm._s(_vm.data._rowsInWindow * 4))]), _vm._v(\" items from \"), _c('span', [_vm._v(_vm._s(_vm.data.from))]), _vm._v(\" to \"), _c('span', [_vm._v(_vm._s(_vm.data.to))])]), _vm._v(\" \"), _c('p', [_vm._v(\"Top height: \"), _c('span', [_vm._v(_vm._s(_vm.data.lineTopHeight) + \"px\")])]), _vm._v(\" \"), _c('p', [_vm._v(\"Bottom Height: \"), _c('span', [_vm._v(_vm._s(_vm.data.lineBottomHeight) + \"px\")])]), _vm._v(\" \"), _c('p', [_vm._v(\"Will load more items: \"), _c('span', [_vm._v(_vm._s(!_vm.data.canLoadmore))])]), _vm._v(\" \"), _c('br'), _vm._v(\" \"), _vm._m(1)])])])\n},staticRenderFns: [function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('header', [_c('h1', {\n    staticClass: \"title\"\n  }, [_vm._v(\"vue-list\")]), _vm._v(\" \"), _c('p', [_vm._v(\"A solution to build an infinite load more list component.\")]), _vm._v(\" \"), _c('p', [_c('a', {\n    staticClass: \"button\",\n    attrs: {\n      \"href\": \"https://github.com/Alex-fun/vue-list\"\n    }\n  }, [_vm._v(\"Code on Github\")]), _vm._v(\" / \"), _c('a', {\n    staticClass: \"button\",\n    attrs: {\n      \"href\": \"https://github.com/Alex-fun\"\n    }\n  }, [_vm._v(\"My profile\")])])])\n},function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('p', [_c('span', [_vm._v(\"You can open the developer tools and observe the changes in the elements.\")])])\n}]}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/.9.9.5@vue-loader/lib/template-compiler.js?id=data-v-24ec25f5!./~/.9.9.5@vue-loader/lib/selector.js?type=template&index=0!./src/App.vue\n// module id = 8\n// module chunks = 1","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"vue-list\",\n    on: {\n      \"scroll\": _vm.handleScroll\n    }\n  }, [_c('ul', [_c('li', {\n    staticClass: \"line-top\",\n    style: ({\n      height: _vm.lineTopHeight + 'px'\n    })\n  }), _vm._v(\" \"), _vm._l((_vm.previewList), function(item) {\n    return _c('li', [_vm._v(_vm._s(item.title))])\n  }), _vm._v(\" \"), _c('li', {\n    staticClass: \"line-bottom\",\n    style: ({\n      height: _vm.lineBottomHeight + 'px'\n    })\n  })], 2), _vm._v(\" \"), _c('div', {\n    staticClass: \"load-more-gif\"\n  }, [_vm._v(\"loading...\")])])\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/.9.9.5@vue-loader/lib/template-compiler.js?id=data-v-9d7a0e5c!./~/.9.9.5@vue-loader/lib/selector.js?type=template&index=0!./src/components/vue-list.vue\n// module id = 9\n// module chunks = 1"],"sourceRoot":""}